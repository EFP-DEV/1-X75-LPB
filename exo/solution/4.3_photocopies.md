## Exercice 4.1 — Tarification des photocopies

### Rappel du problème

On calcule le **montant total** en fonction du nombre `n` de photocopies, avec une tarification par tranches :

* **0 à 10** : 0,20 € / copie
* **11 à 30** : 0,10 € / copie
* **au-delà de 30** : 0,05 € / copie

---

# Version 1 — Directe (formules “en dur”)

```text
Variable n en entier
Variable montant en decimal

Début
    Ecrire "Nombre de photocopies ?"
    Lire n

    Si n <= 10 Alors
        montant <- n * 0,20
    SinonSi n <= 30 Alors
        montant <- 10 * 0,20 + (n - 10) * 0,10
    Sinon
        montant <- 10 * 0,20 + 20 * 0,10 + (n - 30) * 0,05
    FinSi

    Ecrire "Montant total : " & montant & " €"
Fin
```

### Idée

On applique directement les **3 cas** du problème (≤10, ≤30, >30) avec la formule correspondante.

### Points forts

* Très lisible pour débuter : on voit clairement les tranches.
* Peu de variables : simple.

### Limites

* Beaucoup de nombres “magiques” (10, 20, 30, 0,20, 0,10, 0,05).
* Si la tarification change, il faut modifier plusieurs endroits → risque d’erreur.
* On répète la logique “10 premières + 20 suivantes…” dans plusieurs formules.

---

# Version 2 — Cumul par étapes (toujours “en dur”)

```text
Variable n en entier
Variable montant en decimal

Début
    Ecrire "Nombre de photocopies ?"
    Lire n

    montant <- 0

    Si n > 30 Alors
        montant <- montant + (n - 30) * 0,05
        n <- 30
    FinSi

    Si n > 10 Alors
        montant <- montant + (n - 10) * 0,10
        n <- 10
    FinSi

    montant <- montant + n * 0,20

    Ecrire "Montant total : " & montant & " €"
Fin
```

### Idée

On calcule d’abord **ce qui dépasse 30**, puis **ce qui dépasse 10**, puis le reste.

### Points forts

* Plus “mécanique” : on cumule sans grosse formule.
* Réutilisable mentalement sur d’autres exercices de tranches.

### Limites

* Seuils et prix encore en dur.
* On **écrase `n`** (on modifie l’entrée), ce qui peut gêner si on veut garder la valeur initiale.

---

# Version 3 — Cumul + tranches en variables

```text
Variable n en entier
Variable montant en decimal
Variable tranche1, tranche2 en entier

Début
    Ecrire "Nombre de photocopies ?"
    Lire n

    tranche1 <- 10
    tranche2 <- 20
    montant <- 0

    Si n > tranche1 + tranche2 Alors
        montant <- montant + (n - (tranche1 + tranche2)) * 0,05
        n <- tranche1 + tranche2
    FinSi

    Si n > tranche1 Alors
        montant <- montant + (n - tranche1) * 0,10
        n <- tranche1
    FinSi

    montant <- montant + n * 0,20

    Ecrire "Montant total : " & montant & " €"
Fin
```

### Ce qui change (par rapport à la v2)

* **Même stratégie** de cumul.
* Les seuils **10** et **30** deviennent `tranche1` et `tranche1 + tranche2`.

### Ce qui ne change pas

* Les prix sont encore en dur.
* On écrase encore `n`.

### Pourquoi c’est mieux

* Si les tranches changent, on modifie **uniquement** `tranche1` et `tranche2`.

---

# Version 4 — Cumul + tranches + prix en variables

```text
Variable n en entier
Variable montant en decimal
Variable tranche1, tranche2 en entier
Variable prix1, prix2, prix3 en decimal

Début
    Ecrire "Nombre de photocopies ?"
    Lire n

    tranche1 <- 10
    tranche2 <- 20

    prix1 <- 0,20
    prix2 <- 0,10
    prix3 <- 0,05

    montant <- 0

    Si n > tranche1 + tranche2 Alors
        montant <- montant + (n - (tranche1 + tranche2)) * prix3
        n <- tranche1 + tranche2
    FinSi

    Si n > tranche1 Alors
        montant <- montant + (n - tranche1) * prix2
        n <- tranche1
    FinSi

    montant <- montant + n * prix1

    Ecrire "Montant total : " & montant & " €"
Fin
```

### Ce qui change (par rapport à la v3)

* Même cumul, mais **plus de nombres magiques** : les prix deviennent `prix1`, `prix2`, `prix3`.

### Pourquoi c’est mieux

* Maintenance : un changement de tarif = **une variable** à modifier.
* Lecture : `prix1`, `prix2`, `prix3` expliquent l’intention.

---

## Remarque pédagogique (progression 2 → 3 → 4)

Ces versions montrent une progression classique :

1. **Cumul par étapes** (technique),
2. **Tranches paramétrées** (flexibilité),
3. **Tranches + prix paramétrés** (maintenance propre).

---

# Bonus — Version 5 (cumul “propre” sans écraser `n`)

*(Même logique que la v4, mais on garde `n` intact et on travaille avec `reste`.)*

```text
Variable n en entier
Variable reste en entier
Variable montant en decimal
Variable tranche1, tranche2 en entier
Variable prix1, prix2, prix3 en decimal

Début
    Ecrire "Nombre de photocopies ?"
    Lire n

    tranche1 <- 10
    tranche2 <- 20

    prix1 <- 0,20
    prix2 <- 0,10
    prix3 <- 0,05

    montant <- 0
    reste <- n

    Si reste > tranche1 + tranche2 Alors
        montant <- montant + (reste - (tranche1 + tranche2)) * prix3
        reste <- tranche1 + tranche2
    FinSi

    Si reste > tranche1 Alors
        montant <- montant + (reste - tranche1) * prix2
        reste <- tranche1
    FinSi

    montant <- montant + reste * prix1

    Ecrire "Montant total : " & montant & " €"
Fin
```

### Pourquoi cette v5 est “propre”

* On ne touche pas à `n` (pratique si `n` doit être réutilisé plus tard).
* `reste` rend l’algorithme plus clair : “ce qu’il reste à facturer”.

Si tu me donnes ton **gabarit exact** (titres/sections attendues dans ton cours), je peux aussi te le reformater *au pixel près* (même indentation, même style de puces, mêmes sous-titres).
